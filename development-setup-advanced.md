# ğŸš€ Ğ¡Ğ¥Ğ•ĞœĞ Ğ ĞĞ—Ğ”Ğ•Ğ›Ğ•ĞĞ˜Ğ¯ ĞšĞĞĞ¢Ğ£Ğ ĞĞ’ - Ğ’ĞĞ Ğ˜ĞĞĞ¢ 2 (ĞŸĞ ĞĞ”Ğ’Ğ˜ĞĞ£Ğ¢Ğ«Ğ™)

## ğŸ“Š ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸ĞµĞ¹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ĞŸĞ ĞĞ”ĞĞšĞ¨Ğ ĞšĞĞĞ¢Ğ£Ğ                          â”‚
â”‚  ğŸ³ Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€                                       â”‚
â”‚  ğŸ”’ Ğ˜Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑÑ€ĞµĞ´Ğ°                                    â”‚
â”‚  ğŸ“Š ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ + Ğ»Ğ¾Ğ³Ğ¸                                     â”‚
â”‚  ğŸŒ https://www.deliveryvlg.xyz                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â¬†ï¸
                    ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹
                              
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Ğ ĞĞ—Ğ ĞĞ‘ĞĞ¢ĞšĞ ĞšĞĞĞ¢Ğ£Ğ                           â”‚
â”‚  ğŸ³ Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€                                       â”‚
â”‚  ğŸ§ª ĞĞ²Ñ‚Ğ¾Ñ‚ĞµÑÑ‚Ñ‹ Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ push                             â”‚
â”‚  ğŸš€ GitHub Actions CI/CD                                   â”‚
â”‚  ğŸŒ https://dev.deliveryvlg.xyz                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ³ Docker ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

### Dockerfile Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

```dockerfile
FROM node:18-alpine
LABEL maintainer="DeliveryVLG Team"

# Ğ Ğ°Ğ±Ğ¾Ñ‡Ğ°Ñ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ñ
WORKDIR /app

# ĞšĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµĞ¼ package.json
COPY package*.json ./

# Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
RUN npm ci --only=production && npm cache clean --force

# ĞšĞ¾Ğ¿Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¸ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´
COPY . .

# Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ±ĞµĞ· root Ğ¿Ñ€Ğ°Ğ²
RUN addgroup -g 1001 -S nodejs && \
    adduser -S delivery -u 1001

# Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ñ‹Ğµ Ğ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¾Ñ€Ğ¸Ğ¸
RUN mkdir -p logs ssl && \
    chown -R delivery:nodejs /app

USER delivery

# ĞÑ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ğ¾Ñ€Ñ‚Ñ‹
EXPOSE 3000 3443

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
  CMD curl -f http://localhost:3000/health || exit 1

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
CMD ["node", "server.js"]
```

### Docker Compose Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

```yaml
# docker-compose.dev.yml
version: '3.8'

services:
  delivery-app-dev:
    build: .
    container_name: delivery-dev
    ports:
      - "3001:3000"
      - "3444:3443"
    environment:
      - NODE_ENV=development
      - PORT=3000
      - HTTPS_PORT=3443
    volumes:
      - ./logs:/app/logs
      - ./ssl:/app/ssl:ro
      - delivery-dev-db:/app/data
    networks:
      - delivery-network
    restart: unless-stopped

  nginx-dev:
    image: nginx:alpine
    container_name: nginx-dev
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/dev.conf:/etc/nginx/conf.d/default.conf
      - ./ssl:/etc/nginx/ssl:ro
    depends_on:
      - delivery-app-dev
    networks:
      - delivery-network

volumes:
  delivery-dev-db:

networks:
  delivery-network:
    driver: bridge
```

### Docker Compose Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞ½Ğ°

```yaml
# docker-compose.prod.yml
version: '3.8'

services:
  delivery-app:
    build: .
    container_name: delivery-prod
    ports:
      - "3000:3000"
      - "3443:3443"
    environment:
      - NODE_ENV=production
      - PORT=3000
      - HTTPS_PORT=3443
    volumes:
      - ./logs:/app/logs
      - ./ssl:/app/ssl:ro
      - delivery-prod-db:/app/data
    networks:
      - delivery-network
    restart: unless-stopped
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: '0.5'

volumes:
  delivery-prod-db:

networks:
  delivery-network:
    driver: bridge
```

## ğŸš€ GitHub Actions CI/CD

### Workflow Ñ„Ğ°Ğ¹Ğ» (.github/workflows/deploy.yml)

```yaml
name: Deploy Delivery App

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        cache: 'npm'
    
    - name: Install dependencies
      run: npm ci
    
    - name: Run tests
      run: npm test
    
    - name: Run security audit
      run: npm audit --audit-level moderate

  deploy-dev:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Deploy to development
      uses: appleboy/ssh-action@v0.1.5
      with:
        host: ${{ secrets.DEV_HOST }}
        username: ${{ secrets.DEV_USER }}
        key: ${{ secrets.DEV_SSH_KEY }}
        script: |
          cd /home/enclude/delivery-app-dev
          git pull origin develop
          docker-compose -f docker-compose.dev.yml down
          docker-compose -f docker-compose.dev.yml build
          docker-compose -f docker-compose.dev.yml up -d
          
  deploy-prod:
    needs: test
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Deploy to production
      uses: appleboy/ssh-action@v0.1.5
      with:
        host: ${{ secrets.PROD_HOST }}
        username: ${{ secrets.PROD_USER }}
        key: ${{ secrets.PROD_SSH_KEY }}
        script: |
          cd /home/enclude/delivery-app
          git pull origin main
          docker-compose -f docker-compose.prod.yml down
          docker-compose -f docker-compose.prod.yml build
          docker-compose -f docker-compose.prod.yml up -d
```

## ğŸ§ª Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Jest ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ

```javascript
// jest.config.js
module.exports = {
  testEnvironment: 'node',
  setupFilesAfterEnv: ['<rootDir>/test/setup.js'],
  testMatch: [
    '<rootDir>/test/**/*.test.js',
    '<rootDir>/test/**/*.spec.js'
  ],
  collectCoverageFrom: [
    'routes/**/*.js',
    'services/**/*.js',
    'database.js',
    '!**/*.test.js'
  ],
  coverageThreshold: {
    global: {
      branches: 70,
      functions: 70,
      lines: 70,
      statements: 70
    }
  }
};
```

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ Ñ‚ĞµÑÑ‚Ğ¾Ğ²

```javascript
// test/api/products.test.js
const request = require('supertest');
const app = require('../../server');

describe('Products API', () => {
  test('GET /products should return products list', async () => {
    const response = await request(app)
      .get('/products')
      .expect(200);
    
    expect(response.body).toHaveProperty('products');
    expect(Array.isArray(response.body.products)).toBe(true);
  });
  
  test('GET /products/categories should return categories', async () => {
    const response = await request(app)
      .get('/products/categories')
      .expect(200);
    
    expect(response.body).toHaveProperty('categories');
  });
});
```

### E2E Ñ‚ĞµÑÑ‚Ñ‹ Ñ Playwright

```javascript
// test/e2e/telegram-miniapp.spec.js
const { test, expect } = require('@playwright/test');

test.describe('Telegram Mini App', () => {
  test('should load main page', async ({ page }) => {
    await page.goto('https://dev.deliveryvlg.xyz:3444/app');
    
    await expect(page.locator('h1')).toContainText('DeliveryVLG');
    await expect(page.locator('[data-testid="products-grid"]')).toBeVisible();
  });
  
  test('should add product to cart', async ({ page }) => {
    await page.goto('https://dev.deliveryvlg.xyz:3444/app');
    
    await page.click('[data-testid="product-1"] .add-to-cart');
    await expect(page.locator('.cart-badge')).toContainText('1');
  });
});
```

## ğŸ”„ Workflow Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

### 1. Feature Development

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ñ„Ğ¸Ñ‡Ğ¸
git checkout develop
git pull origin develop
git checkout -b feature/advanced-search

# Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ hot reload
docker-compose -f docker-compose.dev.yml up

# Ğ¢ĞµÑÑ‚Ñ‹ Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
npm test -- --watch
```

### 2. Testing & Review

```bash
# ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ¿Ñ€Ğ¸ push
git add .
git commit -m "feat: Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ñ€Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº"
git push origin feature/advanced-search

# GitHub Actions Ğ·Ğ°Ğ¿ÑƒÑÑ‚ÑÑ‚:
# âœ… Unit Ñ‚ĞµÑÑ‚Ñ‹
# âœ… Integration Ñ‚ĞµÑÑ‚Ñ‹  
# âœ… Security audit
# âœ… Code coverage
```

### 3. Staging & Production

```bash
# Merge Ğ² develop -> Ğ°Ğ²Ñ‚Ğ¾Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° dev ÑĞµÑ€Ğ²ĞµÑ€
git checkout develop
git merge feature/advanced-search
git push origin develop

# Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ° dev.deliveryvlg.xyz

# Merge Ğ² main -> Ğ°Ğ²Ñ‚Ğ¾Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ Ğ½Ğ° prod ÑĞµÑ€Ğ²ĞµÑ€  
git checkout main
git merge develop
git push origin main
```

## ğŸ“Š Monitoring & Alerting

### Prometheus Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸

```javascript
// metrics.js
const promClient = require('prom-client');

const httpDuration = new promClient.Histogram({
  name: 'http_request_duration_seconds',
  help: 'Duration of HTTP requests in seconds',
  labelNames: ['method', 'route', 'status_code']
});

const dbQueries = new promClient.Counter({
  name: 'database_queries_total',
  help: 'Total database queries',
  labelNames: ['operation', 'table']
});

module.exports = { httpDuration, dbQueries };
```

### Grafana Dashboard

- ğŸ“ˆ Ğ’Ñ€ĞµĞ¼Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° API
- ğŸ“Š ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²  
- ğŸ’¾ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸
- ğŸ—„ï¸ ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ‘Ğ”
- ğŸ‘¥ ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸

## âœ… ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ° 2

- âœ… **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ**: ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ CI/CD pipeline
- âœ… **Ğ˜Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ñ**: Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ñ‹
- âœ… **Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: ĞĞ²Ñ‚Ğ¾Ñ‚ĞµÑÑ‚Ñ‹ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ commit
- âœ… **ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³**: Prometheus + Grafana
- âœ… **Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ**: ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ security audit
- âœ… **ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ**: Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº Ñ€Ğ¾ÑÑ‚Ñƒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

## âš ï¸ Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ° 2

- âš ï¸ Docker Ğ½Ğ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ
- âš ï¸ GitHub Actions Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°
- âš ï¸ Ğ‘Ğ¾Ğ»ÑŒÑˆĞµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ½Ğ° Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ğµ
- âš ï¸ Ğ¢Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ¸Ñ Docker

---

**â±ï¸ Ğ’Ñ€ĞµĞ¼Ñ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ: 2-4 Ñ‡Ğ°ÑĞ°**  
**ğŸ¯ ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ´Ğ»Ñ: ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° 2-5 Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²** 