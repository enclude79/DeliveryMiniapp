# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º—É —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é Delivery App

## üìã –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–æ—Å—å –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ 
- –ù–µ—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫ (error.log –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è)
- –ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
- –£—è–∑–≤–∏–º–æ—Å—Ç—å –∫ –±–æ—Ç–∞–º –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∞—Ç–∞–∫–∞–º

### ‚úÖ –ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:
- **systemd —Å–µ—Ä–≤–∏—Å** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º
- **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** –≤ `logs/error.log`
- **Health check endpoint** `/health` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏** –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- **Graceful shutdown** –ø—Ä–∏ —Å–∏–≥–Ω–∞–ª–∞—Ö —Å–∏—Å—Ç–µ–º—ã
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤** (–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ WordPress –∑–∞–ø—Ä–æ—Å–æ–≤)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫** –ø—Ä–æ—Ü–µ—Å—Å–∞

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞

### 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å
```bash
# –ù–∞–π—Ç–∏ –∏ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
pkill -f "node server.js"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
ps aux | grep server.js
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å
```bash
# –°–¥–µ–ª–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x setup-service.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
./setup-service.sh
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
sudo systemctl status delivery-app

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
sudo journalctl -u delivery-app -f

# Health check
curl http://localhost:3000/health
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Health Check Endpoint
```bash
curl http://localhost:3000/health
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "ok",
  "timestamp": "2025-07-11T07:00:00.000Z",
  "uptime": "0h 5m 23s",
  "memory": {
    "rss": "45MB",
    "heapUsed": "23MB", 
    "heapTotal": "35MB"
  },
  "cpu": {
    "user": 156789,
    "system": 45678
  }
}
```

### –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
# –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
sudo journalctl -u delivery-app --since "1 hour ago"

# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
tail -f logs/error.log

# –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–∞
tail -f logs/access.log
```

---

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–º

```bash
# –ó–∞–ø—É—Å–∫
sudo systemctl start delivery-app

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞  
sudo systemctl stop delivery-app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart delivery-app

# –°—Ç–∞—Ç—É—Å
sudo systemctl status delivery-app

# –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl enable delivery-app

# –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
sudo systemctl disable delivery-app
```

---

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã:
- `/wp-admin/*`
- `*.php`
- `/xmlrpc.php`
- `/phpmyadmin/*`

–í—Å–µ –ø–æ–ø—ã—Ç–∫–∏ –∞—Ç–∞–∫ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `logs/error.log`

### –õ–∏–º–∏—Ç—ã —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ü–∞–º—è—Ç—å**: –º–∞–∫—Å–∏–º—É–º 1GB
- **–ó–∞–¥–∞—á–∏**: –º–∞–∫—Å–∏–º—É–º 100
- **–ê–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫**: —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –ø–∞–¥–µ–Ω–∏—è

---

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u delivery-app --no-pager -n 50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
ls -la /home/enclude/delivery-app/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
netstat -tlnp | grep ":3000\|:3443"
```

### –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
curl http://localhost:3000/health

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
sudo systemctl restart delivery-app
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î
ls -la delivery.db

# –†–∞–∑–º–µ—Ä –ë–î
du -h delivery.db
```

---

## üìà –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- ‚úÖ **–ü–∞–º—è—Ç—å**: –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ >800MB
- ‚úÖ **–ü—Ä–æ—Ü–µ—Å—Å**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏
- ‚úÖ **–û—à–∏–±–∫–∏**: –≤—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- ‚úÖ **–ê—Ç–∞–∫–∏**: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –í–Ω–µ—à–Ω–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
*/5 * * * * curl -f http://localhost:3000/health > /dev/null || systemctl restart delivery-app
```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **–Ω–µ —É–ø–∞–¥–µ—Ç —Å–ª—É—á–∞–π–Ω–æ**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö  
- ‚úÖ **–ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫** –±–æ—Ç–æ–≤
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ **Graceful shutdown** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö

**–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ** 